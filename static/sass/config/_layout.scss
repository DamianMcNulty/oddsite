// Layout Config
// =============


// Variables
// Reusable CSS Grid Template Columns definition
// ---------------------------------------------
$grid-columns-small: [col1-start] minmax(5vw, 1fr) [col1-end col2-start] minmax(auto, 1fr) [col2-end col3-start] minmax(auto, 1fr) [col3-end col4-start] minmax(auto, 1fr) [col4-end col5-start] minmax(auto, 1fr) [col5-end];
$grid-columns-large: [col1-start] 1fr [col1-end col2-start] 1fr [col2-end col3-start] minmax(auto, size('full-content')) [col3-end col4-start] 1fr [col4-end col5-start] 1fr [col5-end];

// When you need a % and not a rem, like on blockquote and intro
// -------------------------------------------------------------



// Center it (horizontally)
// ------------------------
/// Shortcut for left and right margin set to auto with optional max-width
/// @group layout
/// @parameter $max-width -
///   Optional max-width for centered item
/// @example scss -
///   .foo {
///     @include center;
///   }
///
///   .bar {
///     @include center('full-content');
///   }
/// @example css -
///   .foo {
///     margin-left: auto;
///     margin-right: auto;
///   }
///
///   .bar {
///     margin-left: auto;
///     margin-right: auto;
///     max-width: 40rem;
///     width: 100%;
///   }
@mixin center(
  $max-width: null
) {
  margin-left: auto;
  margin-right: auto;

  @if ($max-width) {
    max-width: size($max-width);
    width: 100%;
  }
}


// Grid Container
// --------------
/// Shortcut for declaring shared grid container styles
/// @group layout
/// @example scss -
///   .foo {
///     @include grid;
///   }
/// @example css -
///   .foo {
///     @supports (display: grid) {
///       display: grid;
///       grid-template-columns: [col1-start] minmax(5vw, 1fr) [col1-end col2-start] minmax(auto, 1fr) [col2-end col3-start] minmax(auto, 1fr) [col3-end col4-start] minmax(auto, 1fr) [col4-end col5-start] minmax(auto, 1fr) [col5-end];
///
///       @media (min-width: 55rem) {
///         grid-template-columns: [col1-start] 1fr [col1-end col2-start] 1fr [col2-end col3-start] minmax(auto, 40rem) [col3-end col4-start] 1fr [col4-end col5-start] 1fr [col5-end];
///       }
///     }
///   }
@mixin grid {
  @supports (display: grid) {
    display: grid;
    grid-template-columns: $grid-columns-small;

    @include above('medium-page') {
      grid-template-columns: $grid-columns-large;
    }
  }
}


// Extend thing outside its container on both sides
// ================================================
// viewport, minus the main content width, divided by 2, then make negative
/// @group layout
/// @link http://codepen.io/mirisuzanne/pen/ded4ae1f55f9b24b2aa0ea4aaac71e47?editors=0100
///    Miriam's Sample CodePen
/// @link http://www.sassmeister.com/gist/705b458628ee9ac28b415166e1a09f7c -
///    Sample Sassmeister SCSS/CSS with Accoutrement
/// @link http://www.sassmeister.com/gist/8374287846277fdf3361537dfaac27a8 -
///    Sample Sassmeister SCSS/CSS without Accoutrement
/// @parameter {Size} $extend-base-size - For consistency, options include
///    'extend-small', 'extend-large' or 'extend-full'
/// @example scss -
///   .foo {
///     @include extend('extend-small');
///   }
///   .bar {
///     @include extend('extend-medium');
///   }
///   .baz {
///     @include extend('extend-large');
///   }
@mixin extend(
  $extend-base-size
) {

  $extend-base-size: size($extend-base-size);
  $extend-large-size: $extend-base-size - 10vw;

  @include above('medium-page') {
    margin-left: calc((#{$extend-base-size} - #{size('full-content')}) / 2 * -1);
    margin-right: calc((#{$extend-base-size} - #{size('full-content')}) / 2 * -1);
    max-width: $extend-base-size;
    width: $extend-base-size;
  }

  @if ($extend-base-size != 'extend-full') {
    @include above('large-page') {
      margin-left: calc((#{$extend-large-size} - #{size('full-content')}) / 2 * -1);
      margin-right: calc((#{$extend-large-size} - #{size('full-content')}) / 2 * -1);
      max-width: $extend-large-size;
      width: $extend-large-size;
    }
  }
}


// Extend thing outside its container on one side only
// ===================================================
// viewport, minus the main content width, divided by 2, then make negative
/// @group layout
/// @link http://codepen.io/mirisuzanne/pen/ded4ae1f55f9b24b2aa0ea4aaac71e47?editors=0100
///    Miriam's Sample CodePen
/// @link http://www.sassmeister.com/gist/705b458628ee9ac28b415166e1a09f7c -
///    Sample Sassmeister SCSS/CSS with Accoutrement
/// @link http://www.sassmeister.com/gist/8374287846277fdf3361537dfaac27a8 -
///    Sample Sassmeister SCSS/CSS without Accoutrement
/// @parameter {Side | String} $side - Choose right or left
/// @example scss -
///   .foo {
///     @include extend-side(left);
///   }
///   .bar {
///     @include extend-side(right);
///   }
@mixin extend-side(
  $side
) {

  margin-bottom: size('pad');

  @include above('small-page') {
    float: $side;

    @if ($side == left) {
      padding-right: size('pad');
    } @elseif ($side == right) {
      padding-left: size('pad');
    } @else {
      @error 'Choose left or right silly. How many sides do you have?';
    }
  }

  @include above('medium-page') {
    margin-#{$side}: calc((#{size('extend-medium')} - #{size('full-content')}) / 2 * -1);
  }

  @include above('large-page') {
    margin-#{$side}: calc((#{size('extend-small')} - #{size('full-content')}) / 2 * -1);
  }
}
