// Home Page Projects
// ==================

.splash-projects {
  align-items: stretch;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;

  @include above('small-page') {
    flex-direction: row;
    min-height: 70vh;
  }
}

.splash-project {
  #{$link} {
    align-items: flex-start;
    background: color('background');
    clip-path: polygon(0% size('gutter'), 100% 0%, 100% calc(100% - #{size('gutter')}), 0% 100%);
    display: flex;
    flex: 1 0 10%;
    flex-direction: column;
    justify-content: center;
    margin: negative('gutter') 0;
    overflow: hidden;
    padding: size('spacer') 0;
    position: relative;
    text-shadow: none;
    transition: flex 250ms;

    @include above('small-page') {
      clip-path: polygon(size('gutter') 0%, 100% 0%, calc(100% - #{size('gutter')}) 100%, 0% 100%);
      margin: 0 negative('gutter');
    }
  }

  #{$focus} {
    @include above('small-page') {
      flex: 10 0 20%;
    }

    @include above('medium-page') {
      flex: 5 0 20%;
    }

    .splash-image {
      filter: blur(0) grayscale(40%);
      transform: translate3d(0, 0, 0) scale(1.05);
    }

    .splash-client,
    .splash-title {
      opacity: 1;
    }
  }
}

.splash-image {
  @include stretch;
  background: no-repeat scroll left top;
  background-size: cover;
  filter: blur(3px) grayscale(80%);
  transition: all 200ms;
}

.splash-client,
.splash-title {
  @include contrasted('invert');
  margin: 0;
  padding: 0 size('gutter') 0 size('gutter') + size('half-shim');
  position: relative;
  transition: opacity 200ms;
  white-space: nowrap;

  @include above('small-page') {
    opacity: 0;
  }
}

.splash-client {
  @include title;
  box-shadow: size('half-shim') negative('half-shim') size('half-shim') color('shadow');
  margin-bottom: negative('half-shim');
  z-index: 2;
}

.splash-title {
  box-shadow: size('half-shim') size('half-shim') size('half-shim') color('shadow');
}
