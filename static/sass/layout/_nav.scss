// Site Navigation
// ===============

$nav-locations: 'birds', 'work', 'speaking', 'open-source', 'blog', 'community', 'contact';

.nav-link {
  color: color('action-alt');
  display: inline-block;
  font-weight: 400;
  padding: size('half-shim') size('gutter');
  text-decoration: none;

  @include above('nav-column') {
    padding: size('shim') size('gutter');

    .is-dropdown & {
      padding-left: size('spacer');
      padding-right: size('spacer');
    }
  }

  #{$link} {
    color: color('action-alt');
  }

  #{$focus} {
    color: color('action');
  }

  [aria-pressed='true'] {
    font-style: italic;
  }
}

@each $location in $nav-locations {
  [data-location='#{$location}'] {
    [data-active='#{$location}'] {
      #{$link} {
        color: color('action');
        font-style: italic;
      }
    }
  }
}

.main-nav {
  display: flex;
  justify-content: space-between;
  margin: negative('gutter') auto 0;
  max-width: size('nav-column');
  width: 100%;

  @include below('nav-column') {
    margin-top: negative('gutter');
    padding: 0;
  }

  > li {
    display: inline-flex;
    position: relative;

    &:nth-of-type(2) {
      flex-grow: 1;
    }
  }
}

.is-dropdown {
  background-color: color('background');
  border-bottom: size('border') solid color('border');
  box-shadow: 3px 6px 5px color('shadow');
  left: 50%;
  padding: 0;
  position: absolute;
  top: 100%;
  transform: translateX(-50%);
  width: auto;
  z-index: 1;

  @include below('nav-column') {
    text-align: left;
  }

  @include above('nav-column') {
    text-align: center;
  }
}
