// ----------------------------------------------------------------------------
// Index

$introsize: $largepx;
$introlarge: $xxlargepx;

@mixin dropcap {
  &:first-line { @include serifcaps; }
  &:first-letter {
    @include adjust-font-size-to($medpx*2);
    float: left;
    padding: .1em .1em 0 0;
  }
}

.intro {
  @include adjust-font-size-to($introsize);
  @include trailer(1,$introsize);
  color: $blue-darkest;
  font-style: italic;
}

.projects {
  @include section;
  p:first-child { @include dropcap; }
}

.people {
  @include padding-leader(8);
  background: image-url('oddpeople.png') no-repeat scroll top;
  strong { @include serifcaps; }
  p:first-child {
    @include dropcap;
    strong {
      font-weight: normal;
      text-transform: uppercase;
    }
  }
}

$counter-size: $xxlargepx;
$process-pre: rhythm(1.5);
$process-post: rhythm(3);

.process {
  @include section(rgba(white,.5));
  counter-reset: process;
  p {
    counter-increment: process;
    position: relative;
    padding-left: $process-pre;
    &:before {
      @include adjust-font-size-to($counter-size);
      content: counter(process) ".";
      position: absolute;
      top: 0;
      left: 0;
      color: rgba($blue-darker,.25);
    }
  }
  strong {
    @include serifcaps;
    text-transform: uppercase;
  }
}

@include at-breakpoint($break) {
  .intro {
    @include squish(1,1);
    @include adjust-font-size-to($introlarge,2.5);
    @include trailer(1,$introlarge);
  }

  .projects {
    @include clearfix;
    @include pad(2,2);
    p {
      @include span-columns(4,8);
      @include nth-omega(even);
    }
  }

  .people {
    @include clearfix;
    p {
      @include span-columns(4);
      @include nth-omega(last);
      &:first-child {
        @include reset-columns;
        @include squish(3,3);
      }
    }
  }

  .process {
    @include pad(2,2);
    p {
      padding-left: $process-post;
    }
  }
}