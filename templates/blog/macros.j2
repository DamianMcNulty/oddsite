{% import 'utility.macros.j2' as utility %}
{% import 'blog/utility.macros.j2' as blog %}
{% import 'birds/utility.macros.j2' as birds %}


{% macro list(post, section='blog-post') %}
  <article {{ utility.attr_if('data-module', section) }}>
    {% set heading = 'h2' if section else 'h3' %}
    <{{ heading }}>
      <a href="{{ link_to('page', slug=post.slug) }}" rel="bookmark">
        {{ post.title }}
      </a>
    </{{ heading }}>

    <p>
      {{ utility.datetime(post.pub_date) }}
      {{ blog.tags(post.tags) }}
    </p>

    {{ birds.get_card(post.author, details=true) }}
    {{ blog.header_image(post) }}

    {% if post.summary %}
      <p>
        {{ post.render_summary() }}
      </p>
    {% endif %}

    <a href="{{ link_to('page', slug=post.slug) }}" rel="bookmark">
      Read More Â»
    </a>
  </article>
{% endmacro %}


{% macro byline(post) %}
<p>
  by {{ birds.get_card(post.author) }} |
  {{ utility.datetime(post.pub_date) }}
  {{ blog.tags(post.tags) }}
</p>
{% endmacro %}
